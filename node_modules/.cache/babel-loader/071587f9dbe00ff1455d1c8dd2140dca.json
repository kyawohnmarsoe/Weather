{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport weatherAPI from \"../../api\";\nconst sliceName = \"weather\";\nexport const fetchCurrentWeather = createAsyncThunk(`${sliceName}/fetchCurrentWeather`, ({\n  query\n}) => weatherAPI.fetchCurrentWeather({\n  query\n}));\nexport const fetchWeatherForecast = createAsyncThunk(`${sliceName}/fetchWeatherForecast`, ({\n  lat,\n  lon\n}) => weatherAPI.fetchWeatherForecast({\n  lat,\n  lon\n}));\nexport const weatherSlice = createSlice({\n  name: sliceName,\n  initialState: {\n    currentData: null,\n    loading: true,\n    error: null,\n    currentCity: 'Singapore',\n    forecastData: null\n  },\n  reducers: {\n    changeCity: (state, action) => {\n      state.loading = true;\n      state.currentCity = action.payload;\n    },\n    CurrentWeatherData: (state, action) => {\n      state.loading = false;\n      state.currentData = action.payload;\n      state.error = null;\n    },\n    CurrentWeatherError: (state, action) => {\n      state.loading = false;\n      state.currentData = null;\n      state.error = action.payload;\n    },\n    ForecastWeatherData: (state, action) => {\n      state.loading = false;\n      state.forecastData = action.payload;\n      state.forecastData = state.forecastData.daily;\n      state.error = null;\n    },\n    ForecastWeatherError: (state, action) => {\n      state.loading = false;\n      state.forecastData = null;\n      state.error = action.payload;\n    }\n  },\n  extraReducers: {\n    [fetchCurrentWeather.pending]: (state, {\n      payload,\n      meta\n    }) => {\n      state.loading = true;\n    },\n    [fetchCurrentWeather.fulfilled]: (state, {\n      payload,\n      meta\n    }) => {\n      state.loading = false;\n      state.currentData = payload.data;\n    },\n    [fetchCurrentWeather.rejected]: (state, {\n      error,\n      meta\n    }) => {\n      state.loading = false;\n      state.error = error;\n    }\n  }\n});\nexport const {\n  changeCity,\n  CurrentWeatherData,\n  CurrentWeatherError,\n  ForecastWeatherData,\n  ForecastWeatherError\n} = weatherSlice.actions;\nexport default weatherSlice.reducer;","map":{"version":3,"sources":["/Users/kyawohnmarsoe/Downloads/weather-widget/src/features/weather/weatherSlice.js"],"names":["createSlice","createAsyncThunk","weatherAPI","sliceName","fetchCurrentWeather","query","fetchWeatherForecast","lat","lon","weatherSlice","name","initialState","currentData","loading","error","currentCity","forecastData","reducers","changeCity","state","action","payload","CurrentWeatherData","CurrentWeatherError","ForecastWeatherData","daily","ForecastWeatherError","extraReducers","pending","meta","fulfilled","data","rejected","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport weatherAPI from \"../../api\";\n\nconst sliceName = \"weather\";\n\nexport const fetchCurrentWeather = createAsyncThunk(\n    `${sliceName}/fetchCurrentWeather`,\n    ({ query }) => weatherAPI.fetchCurrentWeather({ query })\n);\n\nexport const fetchWeatherForecast = createAsyncThunk(\n    `${sliceName}/fetchWeatherForecast`,\n    ({ lat, lon }) => weatherAPI.fetchWeatherForecast({ lat, lon })\n);\n\nexport const weatherSlice = createSlice({\n    name: sliceName,\n    initialState: {\n        currentData: null,\n        loading: true,\n        error: null,\n        currentCity:'Singapore',\n        forecastData:null,\n        \n    },\n    reducers: {\n        changeCity: (state,action) => {\n            state.loading = true;\n            state.currentCity = action.payload;\n           \n        },\n        CurrentWeatherData: (state,action) => {\n            state.loading = false;\n            state.currentData = action.payload;\n            state.error=null;\n        },\n        CurrentWeatherError: (state,action) => {\n            state.loading = false;\n            state.currentData = null;\n            state.error = action.payload;\n        },\n        ForecastWeatherData: (state,action) => {\n            state.loading = false;\n            state.forecastData = action.payload;\n            state.forecastData = state.forecastData.daily;\n            state.error=null;\n        },\n        ForecastWeatherError: (state,action) => {\n            state.loading = false;\n            state.forecastData = null;\n            state.error = action.payload;\n        }\n\n    },\n    extraReducers: {\n        [fetchCurrentWeather.pending]: (state, { payload, meta }) => {\n            state.loading = true;\n        },\n        [fetchCurrentWeather.fulfilled]: (state, { payload, meta }) => {\n            state.loading = false;\n            state.currentData = payload.data;\n        },\n        [fetchCurrentWeather.rejected]: (state, { error, meta }) => {\n            state.loading = false;\n            state.error = error;\n        },\n    },\n});\nexport const { changeCity,CurrentWeatherData,CurrentWeatherError,ForecastWeatherData,ForecastWeatherError } = weatherSlice.actions;\n\nexport default weatherSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}